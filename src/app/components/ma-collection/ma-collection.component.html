<div class="header-collection">
  <h2 class="header-title">Ma Collection</h2>
  <button *ngIf="authService.isLoggedIn()" (click)="logout()" class="logout-btn">
    Déconnexion
  </button>
</div>

<!-- Message si la collection est vide -->
<div *ngIf="allPokemons.length === 0">Collection est vide.</div>

<!-- Cartes Pokémon -->
<div class="card-container">
  <div class="pokemon-card" *ngFor="let p of pokemons; let i = index" [style.animationDelay]="i * 0.2 + 's'" class="fade-in-card">
    <div class="pokemon-image">
      <img [src]="p.imageUrl || 'assets/default-pokemon.png'" alt="{{ p.nom }}">
    </div>
    <div class="pokemon-info">
      <h3>{{ p.nom }}</h3>
      <p>Type : {{ p.type }}</p>
      <p>Niveau : {{ p.niveau }}</p>
      <p class="rarete">Rareté : {{ p.rarete }}</p>
      <button class="delete-btn" (click)="confirmDelete(p)" aria-label="Supprimer {{p.nom}}">
        Supprimer
      </button>
    </div>
  </div>
</div>

<!-- Pagination -->
<div class="pagination" *ngIf="totalPages > 1">
  <button (click)="prevPage()" [disabled]="currentPage === 1">Précédent</button>
  <span>Page {{ currentPage }} / {{ totalPages }}</span>
  <button (click)="nextPage()" [disabled]="currentPage === totalPages">Suivant</button>
</div>

<!-- Pop-up suppression Pokémon -->
<div *ngIf="showDeletePopup" class="delete-popup-overlay">
  <div class="delete-popup">
    <h3>Confirmer la suppression</h3>
    <p>Voulez-vous vraiment supprimer <strong>{{ pokemonToDelete.nom }}</strong> ?</p>
    <div class="popup-buttons">
      <button class="delete-btn" (click)="deletePokemon()">Oui, supprimer</button>
      <button class="logout-btn" (click)="closeDeletePopup()">Annuler</button>
    </div>
  </div>
</div>
